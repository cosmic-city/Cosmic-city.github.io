function R(s){let h=s&&s.element,t=h||document.body,i=window.innerWidth,d=window.innerHeight,o={x:i/2,y:i/2},p=new E(i/2,d/2,10,10),e,c,y=(s==null?void 0:s.color)||"#323232a6";const a=window.matchMedia("(prefers-reduced-motion: reduce)");a.onchange=()=>{a.matches?g():w()};function w(){if(a.matches)return console.log("This browser has prefers reduced motion turned on, so the cursor did not init"),!1;e=document.createElement("canvas"),c=e.getContext("2d"),e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",h?(e.style.position="absolute",t.appendChild(e),e.width=t.clientWidth,e.height=t.clientHeight):(e.style.position="fixed",document.body.appendChild(e),e.width=i,e.height=d),v(),u()}function v(){t.addEventListener("mousemove",m),window.addEventListener("resize",f)}function f(n){i=window.innerWidth,d=window.innerHeight,h?(e.width=t.clientWidth,e.height=t.clientHeight):(e.width=i,e.height=d)}function m(n){if(h){const r=t.getBoundingClientRect();o.x=n.clientX-r.left,o.y=n.clientY-r.top}else o.x=n.clientX,o.y=n.clientY}function x(){c.clearRect(0,0,i,d),p.moveTowards(o.x,o.y,c)}function u(){x(),requestAnimationFrame(u)}function g(){e.remove(),cancelAnimationFrame(u),t.removeEventListener("mousemove",m),window.addEventListener("resize",f)}function E(n,r,b,W){this.position={x:n,y:r},this.width=b,this.lag=W,this.moveTowards=function(C,M,l){this.position.x+=(C-this.position.x)/this.lag,this.position.y+=(M-this.position.y)/this.lag,l.fillStyle=y,l.beginPath(),l.arc(this.position.x,this.position.y,this.width,0,2*Math.PI),l.fill(),l.closePath()}}return w(),{destroy:g}}export{R as followingDotCursor};
